-- สคริปต์จำลองข้อมูลสินค้า (FG Code) 1,000 รายการ สำหรับทดสอบระบบ
-- รันโค้ดนี้ในหน้า Supabase SQL Editor

DO $$
DECLARE
  i INTEGER;
  -- สุ่มชื่อสินค้าคร่าวๆ
  names TEXT[] := ARRAY[
    'ฉลากส้มสายน้ำผึ้ง', 'สติ๊กเกอร์ติดกล่องพัสดุ', 'ฉลากขวดน้ำดื่ม', 'ป้ายราคา', 
    'ฉลากบาร์โค้ด', 'ฉลากโฮโลแกรมกันปลอม', 'สติ๊กเกอร์ติดผลไม้ส่งออก', 'ฉลากติดขวดแยมสตรอเบอร์รี่', 
    'ป้ายสินค้าโปรโมชั่น', 'ฉลากติดซองขนมปัง', 'สติ๊กเกอร์ระวังแตก (Fragile)',
    'ฉลากอาหารเจ', 'ฉลากน้ำพริกตาแดง', 'ฉลากโลโก้ร้านกาแฟ', 'สติ๊กเกอร์ติดแก้วชานมไข่มุก',
    'ฉลากสินค้า OTOP', 'ป้าย Tag เสื้อผ้า', 'ฉลากติดกระปุกคุกกี้', 'สติ๊กเกอร์ซีลกล่อง',
    'ฉลากแชมพูสมุนไพร'
  ];
  -- สุ่มอายุการใช้งาน
  exps TEXT[] := ARRAY['6 เดือน', '12 เดือน', '1 ปี', '2 ปี', '3 ปี'];
BEGIN
  -- วนลูปสร้าง 1,000 รายการ
  FOR i IN 1..1000 LOOP
    INSERT INTO public.fgcode (id, name, exp)
    VALUES (
      -- ใช้รหัสขึ้นต้นด้วย TEST เพื่อให้รู้ว่าเป็นตัวทดสอบ (และลบง่ายในภายหลัง)
      'TEST-' || lpad(i::text, 4, '0'), 
      names[1 + floor(random() * array_length(names, 1))], 
      exps[1 + floor(random() * array_length(exps, 1))]
    )
    ON CONFLICT (id) DO NOTHING;
  END LOOP;
END $$;
